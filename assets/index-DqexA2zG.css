*{margin:0;padding:0;box-sizing:border-box}html,body{height:100%;overflow:hidden;background:#000;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}#game-container{width:100vw;height:100vh;height:100dvh;position:fixed;top:0;left:0}#game-canvas{display:block;width:100%;height:100%}#ui-overlay{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}#title-screen{display:none;position:absolute;top:0;left:0;width:100%;height:100%;background:#000000d9;justify-content:center;align-items:center;pointer-events:auto;z-index:200;transition:opacity .5s ease-out}#title-screen.active{display:flex}#title-screen.fade-out{opacity:0}.title-content{text-align:center}.title-name{font-size:72px;font-weight:900;letter-spacing:12px;color:gold;margin-bottom:40px;animation:title-glow 2s ease-in-out infinite}@keyframes title-glow{0%,to{text-shadow:0 0 10px rgba(255,215,0,.6),0 0 20px rgba(255,215,0,.4),0 0 40px rgba(255,215,0,.2),0 4px 8px rgba(0,0,0,.6)}50%{text-shadow:0 0 20px rgba(255,255,255,.8),0 0 40px rgba(255,215,0,.6),0 0 60px rgba(255,215,0,.4),0 4px 8px rgba(0,0,0,.6)}}.title-rules{color:#ccc;font-size:16px;line-height:2;margin-bottom:40px}.title-rules p{margin:0}.title-warning{color:#f66;font-weight:700;margin-top:8px}.difficulty-selector{display:flex;justify-content:center;gap:12px;margin-bottom:24px}.difficulty-btn{padding:8px 24px;font-size:16px;font-weight:700;color:#aaa;background:#ffffff0d;border:2px solid rgba(255,255,255,.2);border-radius:6px;cursor:pointer;letter-spacing:1px;transition:all .2s}.difficulty-btn:hover{color:#fff;border-color:#ffd70080;background:#ffd7001a}.difficulty-btn.selected{color:gold;border-color:gold;background:#ffd70033;box-shadow:0 0 12px #ffd7004d}.title-start-btn{padding:14px 48px;font-size:22px;font-weight:700;color:#fff;background:#ffd70033;border:2px solid #ffd700;border-radius:8px;cursor:pointer;letter-spacing:2px;transition:all .2s}.title-start-btn:hover{background:#ffd70066;transform:scale(1.05);box-shadow:0 0 20px #ffd7004d}.title-credit{margin-bottom:32px;font-size:15px;font-style:italic;letter-spacing:2px;color:#ffd70066}.title-credit a{color:#ffd70099;text-decoration:none;transition:color .2s}.title-credit a:hover{color:gold}#hud{position:absolute;top:16px;left:16px;color:#fff;font-size:14px;text-shadow:1px 1px 2px rgba(0,0,0,.8)}.hud-bar{width:200px;height:16px;background:#0009;border-radius:8px;overflow:hidden;margin-bottom:6px;border:1px solid rgba(255,255,255,.2)}.hud-bar-fill{height:100%;border-radius:8px;transition:width .3s}.hp-fill{background:linear-gradient(90deg,#f44,#f66)}.hud-stat{margin-bottom:4px;font-weight:700}.hud-zone{margin-top:8px;font-size:16px;font-weight:700;color:#fd4}.hud-safe-zone{color:#8fa;font-size:14px;font-weight:700;text-shadow:0 0 8px rgba(136,255,170,.5)}#zone-clear-overlay{display:none;position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:150;overflow:hidden;transition:opacity .5s ease-out}#zone-clear-overlay.active{display:block}#zone-clear-overlay.fade-out{opacity:0}.confetti-container{position:absolute;top:0;left:0;width:100%;height:100%}.confetti-piece{position:absolute;top:-20px;border-radius:2px;animation:confetti-fall 2.5s ease-in forwards}@keyframes confetti-fall{0%{transform:translateY(0) translate(0) rotate(0);opacity:1}to{transform:translateY(100vh) translate(var(--drift, 0px)) rotate(720deg);opacity:0}}.zone-clear-content{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;animation:zone-clear-pop .5s cubic-bezier(.175,.885,.32,1.275) forwards}@keyframes zone-clear-pop{0%{transform:translate(-50%,-50%) scale(.3);opacity:0}to{transform:translate(-50%,-50%) scale(1);opacity:1}}.zone-clear-title{font-size:56px;font-weight:900;color:gold;letter-spacing:6px;text-shadow:0 0 20px rgba(255,215,0,.8),0 0 40px rgba(255,215,0,.4),0 4px 8px rgba(0,0,0,.8);margin-bottom:12px}.zone-clear-zone{font-size:28px;font-weight:700;color:#fff;text-shadow:0 2px 6px rgba(0,0,0,.8);margin-bottom:16px}.zone-clear-next{font-size:20px;color:#8fa;text-shadow:0 0 10px rgba(136,255,170,.5),0 2px 4px rgba(0,0,0,.8);animation:zone-clear-pulse 1s ease-in-out infinite}@keyframes zone-clear-pulse{0%,to{opacity:.8}50%{opacity:1}}.hud-next-upgrade{font-size:11px;color:#aaf;margin-bottom:4px}#minimap-container{position:absolute;top:16px;right:16px}#minimap-canvas{border:2px solid rgba(255,255,255,.3);border-radius:50%}#death-screen{display:none;position:absolute;top:0;left:0;width:100%;height:100%;background:#8b000099;justify-content:center;align-items:center;flex-direction:column;pointer-events:auto}#death-screen.active{display:flex}.death-title{font-size:48px;font-weight:900;color:#f22;text-shadow:0 0 20px rgba(255,0,0,.8),0 4px 8px rgba(0,0,0,.6);margin-bottom:24px;letter-spacing:4px}.death-stats{margin-bottom:32px;text-align:center}.death-score{font-size:36px;font-weight:900;color:gold;text-shadow:0 0 12px rgba(255,215,0,.5);margin-bottom:8px}.death-details{font-size:16px;color:#ccc}.death-actions{display:flex;flex-direction:column;gap:12px;align-items:center}.death-share-btn{padding:10px 32px;font-size:16px;font-weight:700;color:#fff;background:#1d9bf04d;border:2px solid rgba(29,155,240,.7);border-radius:8px;cursor:pointer;letter-spacing:1px;transition:all .2s}.death-share-btn:hover{background:#1d9bf080;transform:scale(1.05)}.death-play-btn{padding:14px 48px;font-size:22px;font-weight:700;color:#fff;background:#ff444440;border:2px solid rgba(255,68,68,.6);border-radius:8px;cursor:pointer;letter-spacing:2px;transition:all .2s}.death-play-btn:hover{background:#ff444473;transform:scale(1.05);box-shadow:0 0 20px #ff44444d}.damage-number{position:absolute;font-weight:900;font-size:18px;text-shadow:1px 1px 2px rgba(0,0,0,.8);pointer-events:none;animation:float-up .8s ease-out forwards;z-index:100}@keyframes float-up{0%{opacity:1;transform:translateY(0) scale(1.2)}to{opacity:0;transform:translateY(-40px) scale(.8)}}#touch-controls{display:none}#touch-controls.active{display:block}.touch-joystick-base{position:absolute;bottom:calc(40px + env(safe-area-inset-bottom,0px));left:calc(30px + env(safe-area-inset-left,0px));width:120px;height:120px;border-radius:50%;background:#ffffff26;border:2px solid rgba(255,255,255,.3);pointer-events:auto;touch-action:none}.touch-joystick-thumb{position:absolute;width:50px;height:50px;border-radius:50%;background:#fff6;border:2px solid rgba(255,255,255,.6);top:50%;left:50%;transform:translate(-50%,-50%);pointer-events:none}.touch-attack-btn{position:absolute;bottom:calc(50px + env(safe-area-inset-bottom,0px));right:calc(30px + env(safe-area-inset-right,0px));width:80px;height:80px;border-radius:50%;background:#c832324d;border:2px solid rgba(255,80,80,.5);pointer-events:auto;touch-action:none;display:flex;align-items:center;justify-content:center;font-size:32px;color:#ffffffb3;user-select:none;-webkit-user-select:none}.hud-zone-progress{font-size:12px;color:#fd4}.settings-btn{position:absolute;top:190px;right:20px;width:36px;height:36px;border-radius:50%;background:#00000080;border:1px solid rgba(255,255,255,.3);color:#ccc;font-size:22px;line-height:1;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:50}.settings-btn:hover{background:#000000b3;color:#fff}.settings-panel{position:absolute;top:190px;right:64px;width:180px;background:#000000d9;border:1px solid rgba(255,255,255,.2);border-radius:8px;padding:12px;color:#fff;font-size:13px;z-index:50}.settings-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;font-weight:700;font-size:14px}.settings-close{cursor:pointer;color:#aaa;font-size:16px}.settings-close:hover{color:#fff}.settings-reset-btn{width:100%;margin-top:8px;padding:6px 0;background:#b4282866;border:1px solid rgba(255,80,80,.5);border-radius:4px;color:#f88;font-size:12px;cursor:pointer}.settings-reset-btn:hover{background:#c8323299;color:#fff}.settings-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.settings-toggle{position:relative;display:inline-block;width:36px;height:20px}.settings-toggle input{opacity:0;width:0;height:0}.settings-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#444;border-radius:20px;transition:.2s}.settings-slider:before{content:"";position:absolute;height:16px;width:16px;left:2px;bottom:2px;background-color:#ccc;border-radius:50%;transition:.2s}.settings-toggle input:checked+.settings-slider{background-color:#48f}.settings-toggle input:checked+.settings-slider:before{transform:translate(16px)}#help-overlay{display:none;position:absolute;top:0;left:0;width:100%;height:100%;background:#000000d9;justify-content:center;align-items:center;pointer-events:auto;z-index:250;transition:opacity .3s ease-out}#help-overlay.active{display:flex}#help-overlay.fade-out{opacity:0}.help-content{max-width:400px;width:90%}.help-title{font-size:28px;font-weight:900;color:gold;text-align:center;margin-bottom:24px;letter-spacing:2px}.help-section{margin-bottom:16px}.help-section h3{font-size:14px;color:#888;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px;border-bottom:1px solid rgba(255,255,255,.1);padding-bottom:4px}.help-row{display:flex;justify-content:space-between;align-items:center;padding:4px 0;color:#ccc;font-size:14px}.help-key{display:inline-block;background:#ffffff1a;border:1px solid rgba(255,255,255,.25);border-radius:4px;padding:2px 8px;font-family:monospace;font-size:13px;color:#fff;min-width:28px;text-align:center}.help-dismiss{text-align:center;margin-top:20px;color:#666;font-size:13px}@media(max-width:768px){.zone-clear-title{font-size:36px;letter-spacing:3px}.zone-clear-zone{font-size:20px}.zone-clear-next{font-size:16px}.title-name{font-size:40px;letter-spacing:6px}.title-rules{font-size:13px;padding:0 20px}.title-start-btn{font-size:18px;padding:12px 36px}.difficulty-btn{padding:6px 16px;font-size:13px}#hud{font-size:11px}.hud-bar{width:140px;height:14px}.hud-zone{font-size:13px}.hud-safe-zone{font-size:11px}.hud-next-upgrade{font-size:9px}.hud-zone-progress{font-size:10px}#minimap-container{top:10px;right:10px}.touch-joystick-base{width:140px;height:140px}.touch-joystick-thumb{width:56px;height:56px}.touch-attack-btn{width:90px;height:90px}.death-title{font-size:32px}.death-score{font-size:28px}.death-play-btn{font-size:18px;padding:12px 36px}.damage-number{font-size:14px}.settings-btn{top:140px;right:14px;width:30px;height:30px;font-size:18px}.settings-panel{top:140px;right:50px;width:160px;font-size:12px}.help-title{font-size:22px}.help-row{font-size:12px}.help-key{font-size:11px}}
